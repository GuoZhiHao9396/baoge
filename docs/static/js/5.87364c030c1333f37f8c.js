webpackJsonp([5],{"15X3":function(t,e){},HOZl:function(t,e){},fH9A:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("mvHQ"),a=o.n(s),i=o("S8Wg"),n=o("4FCr"),l=o("ogOj"),d={GetSimilarGoods:l.a+"api/UGetGoodsDtlH5/GetSimilarGoods",UGetGoodsH5:l.a+"api/UGetGoodsH5"},r=(i.a,n.a,{name:"commodityList",components:{Scroller:i.a,LoadMore:n.a},data:function(){return{title:"",pageIndex:1,categoryId:0,commodityList:[],loadingShow:!1,loadingEnd:!0}},methods:{onCommodityItemClick:function(t){this.$router.push({name:"commoditydec",params:{item:t}})},onScrolldown:function(){this.pageIndex=1,this.requestUGetGoodsH5()},onScrollup:function(){this.pageIndex=this.pageIndex+1,this.requestUGetGoodsH5()},requestUGetGoodsH5:function(){var t=this;this.$request.loading(this,d.UGetGoodsH5,"post",{PromoterId:"",CategoryId:this.categoryId,Title:this.title,PageSize:20,PageIndex:this.pageIndex,platform:2,IsTmall:!1,HasCoupon:!0,NeedFreeShipment:!1,StartPrice:0},"").then(function(e){t.loadingShow=!0,t.loadingEnd=0==e.data.code,0==e.data.code&&(1==t.pageIndex&&(t.commodityList=[]),t.commodityList=t.commodityList.concat(e.data.data),t.commodityList.length<8&&(t.loadingEnd=!1)),1==t.pageIndex&&t.$refs.scroller.reset({top:0}),t.$refs.scroller.donePullup(),t.$refs.scroller.donePulldown()},function(e){t.$refs.scroller.donePullup(),t.$refs.scroller.donePulldown()})},updateData:function(t){this.pageIndex=1,this.categoryId=t.Id,this.title=t.CategoryName,this.$vux.loading.show({text:"加载中"}),this.commodityList=[],this.requestUGetGoodsH5()}},beforeRouteEnter:function(t,e,o){o(function(o){if("index"==e.name){sessionStorage.setItem("saveFromParams",a()(t.params.item));var s=t.params.item;o.updateData(s)}else if(null==e.name){s=JSON.parse(sessionStorage.getItem("saveFromParams"));o.updateData(s)}else if("commoditydec"==e.name){if("true"==sessionStorage.getItem("refresh")){s=JSON.parse(sessionStorage.getItem("saveFromParams"));o.updateData(s)}}})}}),c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("x-header",{staticStyle:{background:"white",color:"#ff2842"},attrs:{"left-options":{backText:""}}},[t._v(t._s(t.title))]),t._v(" "),s("scroller",{ref:"scroller",attrs:{"lock-x":"","use-pullup":"","use-pulldown":"","pulldown-config":{downContent:"下拉刷新",upContent:"释放更新",loadingContent:"加载中..."},"pullup-config":{upContent:"上拉刷新",downContent:"释放更新",loadingContent:"加载中..."}},on:{"on-pullup-loading":t.onScrollup,"on-pulldown-loading":t.onScrolldown}},[s("div",{staticClass:"display flex-column"},[s("div",{ref:"commodityListbg",staticClass:"display flex-row commodity-bg"},t._l(t.commodityList,function(e,a){return s("div",{key:a,staticClass:"display flex-column commodity-item-bg",on:{click:function(o){return t.onCommodityItemClick(e)}}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.PictUrl+"_480x480.jpg",expression:"item.PictUrl+'_480x480.jpg'"}],key:e.PictUrl+"_480x480.jpg",staticClass:"commodity-item-img",attrs:{alt:""}}),t._v(" "),s("div",{staticClass:"display flex-column commodity-item-dec"},[s("span",{staticClass:"dec-title"},[t._v(t._s(e.Title))]),t._v(" "),s("span",{staticClass:"display flex-row dec-historical-price"},[s("span",[t._v("\n                "+t._s("0"==e.UserType?"淘宝价":"天猫价")+"\n                "),s("s",[t._v("￥"+t._s(e.ZkFinalPrice))])]),t._v(" "),s("span",[t._v("月销 "+t._s(e.Volume))])]),t._v(" "),s("div",{staticClass:"display flex-row dec-now-price-bg"},[s("span",[s("span",{staticStyle:{"font-size":"13px"}},[t._v("券后")]),t._v(" "),s("span",{staticClass:"dec-now-price"},[t._v("￥"+t._s(e.CouponFinalPrice))])]),t._v(" "),""!=e.CouponInfo?s("div",{staticClass:"dec-discount-coupon"},[s("img",{attrs:{src:o("943m"),alt:""}}),t._v(" "),s("span",[t._v(t._s(e.CouponInfo)+"元券")])]):t._e()])])])}),0),t._v(" "),t.loadingShow?s("div",{staticClass:"display flex-column align-items justify-content line-n-bg"},[s("load-more",{directives:[{name:"show",rawName:"v-show",value:t.loadingEnd,expression:"loadingEnd"}],attrs:{tip:"加载更多"}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.loadingEnd,expression:"!loadingEnd"}],staticClass:"display flex-column align-items justify-content"},[s("img",{staticClass:"line-no-data-ico",attrs:{src:o("ZURh"),alt:""}}),t._v(" "),s("span",{staticClass:"line-no-data-txt"},[t._v("我是有底线的呦!")])])],1):t._e()])])],1)},staticRenderFns:[]};var m=o("VU/8")(r,c,!1,function(t){o("HOZl"),o("15X3")},"data-v-34d46de6",null);e.default=m.exports}});
//# sourceMappingURL=5.87364c030c1333f37f8c.js.map