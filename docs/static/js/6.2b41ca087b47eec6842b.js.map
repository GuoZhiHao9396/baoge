{"version":3,"sources":["webpack:///./src/pages/category/category.vue","webpack:///./src/pages/category/category.vue?37bd","webpack:///./src/pages/category/category.vue?5533"],"names":["category_category","data","isFirst","scrollY","categoryHeight","rightLiTops","categoryTypeList","watch","_this","this","$nextTick","initScroll","initRightHeight","computed","currentIndex","index","_this2","findIndex","tops","initleftScroll","beforeDestroy","leftScroll","destroy","rightScroll","mounted","methods","init","title","window","innerHeight","$parent","categoryList","slice","length","CategoryName","leftItemClick","_this3","BScroll","$refs","click","probeType","bounce","on","pos","Math","abs","y","el","scrollToElement","itemArray","top","push","allList","getElementsByClassName","Array","prototype","call","forEach","item","clientHeight","scrollTo","prefectureItemClick","$router","name","params","pages_category_category","render","_vm","_h","$createElement","_c","_self","staticClass","ref","style","_l","key","class","$event","_v","_s","childListItem","directives","rawName","value","expression","PhotoUrl","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.2b41ca087b47eec6842b.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport BScroll from \"better-scroll\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      isFirst: true, // 首次计算高度\r\n      scrollY: 0, // 定义的Y滚动轴及初始值\r\n      categoryHeight: \"\", // 控件高度\r\n      rightLiTops: [], //所有分类头部位置\r\n      categoryTypeList: [] // 菜单集合\r\n    };\r\n  },\r\n  watch: {\r\n    categoryTypeList() {\r\n      //监听数据\r\n      this.$nextTick(() => {\r\n        this.initScroll();\r\n        this.initRightHeight();\r\n      });\r\n    }\r\n  },\r\n  computed: {\r\n    //动态绑定class类名\r\n    currentIndex(index) {\r\n      const { scrollY, rightLiTops } = this;\r\n      return rightLiTops.findIndex((tops, index) => {\r\n        this.initleftScroll(index); //调用左右联调滚动效果\r\n        return scrollY >= tops && scrollY < rightLiTops[index + 1];\r\n      });\r\n      return 0;\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    this.leftScroll.destroy();\r\n    this.rightScroll.destroy();\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    init(title) {\r\n      // 首次计算高度\r\n      if (this.isFirst) {\r\n        // 动态控制分类视图的高度\r\n        this.categoryHeight = \"height:\" + (window.innerHeight - 55 - 53) + \"px\";\r\n        // 读取列表数据\r\n        this.categoryTypeList = this.$parent.categoryList.slice(\r\n          1,\r\n          this.$parent.categoryList.length\r\n        );\r\n        this.isFirst = false;\r\n      } else {\r\n        for (let index = 0; index < this.categoryTypeList.length; index++) {\r\n          if (title == this.categoryTypeList[index].CategoryName) {\r\n            this.leftItemClick(index);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    initScroll() {\r\n      this.leftScroll = new BScroll(this.$refs.leftScroll, {\r\n        click: true,\r\n        probeType: 3\r\n      });\r\n      this.rightScroll = new BScroll(this.$refs.rightScroll, {\r\n        click: true,\r\n        bounce: false,\r\n        probeType: 3\r\n      });\r\n      this.leftScroll.on(\"scroll\", pos => {});\r\n      this.rightScroll.on(\"scroll\", pos => {\r\n        this.scrollY = Math.abs(pos.y);\r\n      });\r\n    },\r\n    // 左右联调\r\n    initleftScroll(index) {\r\n      let menu = this.$refs.leftScroll;\r\n      let el = menu[index];\r\n      this.leftScroll.scrollToElement(el, 300, 0, -300);\r\n    },\r\n    // 求出右边列表的高度\r\n    initRightHeight() {\r\n      let itemArray = []; //定义一个伪数组\r\n      let top = 0;\r\n      itemArray.push(top);\r\n      // 获取右边所有li的\r\n      let allList = this.$refs.rightScroll.getElementsByClassName(\"rightItem\");\r\n      //allList伪数组转化成真数组\r\n      Array.prototype.slice.call(allList).forEach(item => {\r\n        top += item.clientHeight; //获取所有li的每一个高度\r\n        itemArray.push(top);\r\n      });\r\n      this.rightLiTops = itemArray;\r\n    },\r\n    // 左边item点击事件\r\n    leftItemClick(index) {\r\n      this.scrollY = this.rightLiTops[index];\r\n      this.rightScroll.scrollTo(0, -this.scrollY);\r\n    },\r\n    // 专区分类点击事件\r\n    prefectureItemClick(item) {\r\n      // 跳转商品列表\r\n      this.$router.push({\r\n        name: \"commodityList\",\r\n        params: {\r\n          item: item\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/category/category.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"core-container\"},[_c('div',{staticClass:\"scroll-wrapper\"},[_c('div',{ref:\"leftScroll\",staticClass:\"leftType\",style:(_vm.categoryHeight)},[_c('div',_vm._l((_vm.categoryTypeList),function(item,index){return _c('div',{key:index,class:_vm.currentIndex==index?'leftItemSelect':'leftItem',on:{\"click\":function($event){return _vm.leftItemClick(index)}}},[_vm._v(_vm._s(item.CategoryName))])}),0)]),_vm._v(\" \"),_c('div',{ref:\"rightScroll\",staticClass:\"rightType\",style:(_vm.categoryHeight)},[_c('div',_vm._l((_vm.categoryTypeList),function(item,index){return _c('div',{key:index,staticClass:\"rightItem\"},[_c('div',{staticClass:\"rightTitle\"},[_vm._v(_vm._s(item.CategoryName))]),_vm._v(\" \"),_c('div',{staticClass:\"rightContent\"},[_c('div',{staticClass:\"display flex-row prefecture-bg background-white\"},_vm._l((item.ChildList),function(childListItem,index){return _c('div',{key:index,staticClass:\"display flex-column align-items justify-content prefecture-item\",on:{\"click\":function($event){return _vm.prefectureItemClick(childListItem)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(childListItem.PhotoUrl),expression:\"childListItem.PhotoUrl\"}],key:childListItem.PhotoUrl,staticClass:\"prefecture-icon\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(childListItem.CategoryName))])])}),0)])])}),0)])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-32953bd0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/category/category.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-32953bd0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vux-loader/src/after-less-loader.js!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./category.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./category.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./category.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-32953bd0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./category.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-32953bd0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/category/category.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}